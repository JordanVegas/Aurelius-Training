להלן **הסבר ברור ומסודר** על **משתנים גלובליים** ו־**משתנים סטטיים (`static`)**, כולל איך מגדירים אותם ומה ההבדלים ביניהם.

---

## 1️⃣ משתנים גלובליים (Global Variables)

### מה זה?

משתנה שמוגדר **מחוץ לכל פונקציה**, בדרך כלל בראש הקובץ.

* נגיש **לכל הפונקציות** באותו קובץ
* חי **לכל אורך ריצת התוכנית**
* מאותחל אוטומטית ל־0 אם לא צוין ערך

### הגדרה

```c
#include <stdio.h>

int counter;   // משתנה גלובלי

int main() {
    counter = 5;
    printf("%d\n", counter);
    return 0;
}
```

### מאפיינים

✔ Scope: כל הקובץ (ואף קבצים אחרים עם `extern`)
✔ Lifetime: כל זמן ריצת התוכנית
❌ שימוש מוגזם מקשה על תחזוקה ובדיקות

---

## 2️⃣ משתנים סטטיים (`static`)

המילה `static` משנה **Scope** ו/או **Lifetime** של משתנה – תלוי איפה מגדירים אותו.

---

## 2️⃣א. משתנה `static` בתוך פונקציה

### מה זה?

משתנה ששומר על הערך שלו **בין קריאות לפונקציה**, אבל **נגיש רק בתוך הפונקציה**.

### דוגמה

```c
#include <stdio.h>

void foo() {
    static int x = 0;
    x++;
    printf("%d\n", x);
}

int main() {
    foo();  // 1
    foo();  // 2
    foo();  // 3
    return 0;
}
```

📌 בניגוד למשתנה רגיל – הוא לא “מתאפס” בכל קריאה.

### מאפיינים

✔ Scope: הפונקציה בלבד
✔ Lifetime: כל ריצת התוכנית

---

## 2️⃣ב. משתנה `static` גלובלי (ברמת קובץ)

### מה זה?

משתנה שמוגדר מחוץ לפונקציות **עם static**, ולכן:

* נגיש **רק בתוך אותו קובץ**
* לא חשוף לקבצים אחרים

### דוגמה

```c
static int file_counter = 0;
```

### למה זה טוב?

✔ מסתיר משתנים פנימיים
✔ מונע התנגשויות שמות
✔ משפר מודולריות

---

## 3️⃣ השוואה מסכמת

| סוג משתנה     | איפה מוגדר     | Scope      | Lifetime    |
| ------------- | -------------- | ---------- | ----------- |
| רגיל          | בתוך פונקציה   | הפונקציה   | בזמן הקריאה |
| גלובלי        | מחוץ לפונקציות | כל הקובץ   | כל התוכנית  |
| static מקומי  | בתוך פונקציה   | הפונקציה   | כל התוכנית  |
| static גלובלי | מחוץ לפונקציות | הקובץ בלבד | כל התוכנית  |

---

## 4️⃣ נקודה חשובה למבחנים

* **כל המשתנים הגלובליים והסטטיים מאותחלים אוטומטית ל־0**
* `static` **לא אומר “קבוע”** – אלא שומר ערך ומגביל גישה

---

## משפט קצר למבחן

> משתנה גלובלי מוגדר מחוץ לפונקציות ונגיש לכל התוכנית, בעוד משתנה סטטי שומר על ערכו לאורך כל ריצת התוכנית אך ה־scope שלו מוגבל – לפונקציה שבה הוגדר או לקובץ שבו הוא מופיע.
